<!DOCTYPE html>
<html lang="en"><head>
<script src="session_4_files/libs/clipboard/clipboard.min.js"></script>
<script src="session_4_files/libs/quarto-html/tabby.min.js"></script>
<script src="session_4_files/libs/quarto-html/popper.min.js"></script>
<script src="session_4_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="session_4_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="session_4_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="session_4_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="session_4_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.555">

  <meta name="author" content="Badaya &amp; Baltais">
  <title>Data pre-processing</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="session_4_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="session_4_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="session_4_files/libs/revealjs/dist/theme/quarto.css">
  <link href="session_4_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="session_4_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="session_4_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="session_4_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <style>
  .center-xy {
    margin: 0;
    position: absolute;
    top: 40%;
    left: 40%;
    -ms-transform: translateY(-50%), translateX(-50%);
    transform: translateY(-50%), translateX(-50%);
  }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Data pre-processing</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Badaya &amp; Baltais 
</div>
</div>
</div>

</section>
<section>
<section id="welcome-back" class="title-slide slide level1 center">
<h1>Welcome back!</h1>

</section>
<section id="welcome-back-1" class="slide level2">
<h2>Welcome back!</h2>
<p>Any questions from yesterday?</p>
</section>
<section id="overview-of-today" class="slide level2">
<h2>Overview of today</h2>
<ol type="1">
<li>Raw data</li>
<li>Data processing steps</li>
<li>Data Viewer</li>
<li>Visual World Paradigm pipeline</li>
<li>Reading pipeline</li>
<li>Practice time</li>
</ol>
</section></section>
<section>
<section id="raw-data" class="title-slide slide level1 center">
<h1>Raw data</h1>

</section>
<section id="raw-data-1" class="slide level2">
<h2>Raw data</h2>
<p>Project directory</p>

<img data-src="images/session_4/projdir1.JPG" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="raw-data-2" class="slide level2">
<h2>Raw data</h2>
<p>Data directory (eye data &amp; behavioural data)</p>

<img data-src="images/session_4/projdir2.JPG" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="raw-data-3" class="slide level2">
<h2>Raw data</h2>
<p>The eye-tracker is actually just recording gaze coordinates on the screen (i.e., gaze points) as well as timestamps in each interval (defined by the sampling rate).</p>
<p>It also includes:</p>
<ul>
<li>Timestamps for stimuli on- and offsets (i.e., the triggers/messages we sent).</li>
<li>Timestamps for participants’ responses.</li>
<li>What they responded.</li>
<li>Trial information.</li>
</ul>
</section>
<section id="raw-data-4" class="slide level2">
<h2>Raw data</h2>
<p>ASCIII files</p>
<ul>
<li>Sampling rate</li>
<li>x,y coordinates of gaze</li>
</ul>

<img data-src="images/session_4/asciii1.JPG" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="raw-data-5" class="slide level2">
<h2>Raw data</h2>
<p>ASCIII files</p>
<ul>
<li>Sampling rate</li>
<li>x,y coordinates of gaze</li>
</ul>

<img data-src="images/session_4/asciii2.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="software" class="slide level2">
<h2>Software</h2>
<p>Licensed software</p>
<ul>
<li>User-friendly, no need to code.</li>
<li>A function of your eye-tracker.
<ul>
<li>Data Viewer - EyeLink (SR Research)</li>
<li>Tobii Pro Studio/Lab - Tobii</li>
<li>BeGaze - SMI</li>
</ul></li>
</ul>
<p>Open software</p>
<ul>
<li>MATLAB, Python, R packages.
<ul>
<li>gazeR, eyetrackingR</li>
</ul></li>
</ul>
</section>
<section id="data-viewer" class="slide level2">
<h2>Data Viewer</h2>
<p>EDF files</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><br> <br></p>
<ul>
<li>Conversion of ASCIII files.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/session_4/8.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/session_4/20.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="data-viewer-1" class="slide level2">
<h2>Data Viewer</h2>
<p>EDF files</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><br> <br></p>
<ul>
<li>List of all participants and trials from each participant.</li>
<li>List of all events pertaining to each trial.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/session_4/34.png"></p>
</div>
</div>
</section></section>
<section>
<section id="data-processing" class="title-slide slide level1 center">
<h1>Data processing</h1>

</section>
<section id="data-processing-1" class="slide level2">
<h2>Data processing</h2>
<ul>
<li>Pre-process data</li>
<li>Export data</li>
<li>Visualization</li>
<li>Data wrangling</li>
<li>Analysis</li>
</ul>
</section>
<section id="data-processing-2" class="slide level2">
<h2>Data processing</h2>
<ul>
<li><span class="fg" style="--col: #e64173">Pre-process data</span></li>
<li><span class="fg" style="--col: #e64173">Export data for analysis</span></li>
<li>Visualization</li>
<li>Data wrangling</li>
<li>Analysis</li>
</ul>
</section>
<section id="data-processing-3" class="slide level2">
<h2>Data processing</h2>
<ol type="1">
<li>Import data into software</li>
<li>Assess data
<ul>
<li>Checks</li>
</ul></li>
<li>(Automatized) cleaning</li>
<li>Prepare data for analysis &amp; export
<ul>
<li>Time windows</li>
<li>Areas of Interest</li>
</ul></li>
</ol>
</section>
<section id="import-data" class="slide level2">
<h2>Import data</h2>
<p>Different software = different data files.</p>
<ul>
<li>Data Viewer: .edf files</li>
<li>R packages: ASCIII files, reports from DV.</li>
</ul>
<p>Different software = additional steps.</p>
<ul>
<li>R packages: binning, assigning AIs…</li>
</ul>
</section>
<section id="assess-data" class="slide level2">
<h2>Assess data</h2>
<p>Divided into two aspects:</p>
<ul>
<li>Pre-processing due to eye movements.
<ul>
<li>Short/long fixations, track loss.</li>
</ul></li>
<li>Pre-processing due to participants.
<ul>
<li>Missed trials, participation criteria.</li>
</ul></li>
</ul>
</section>
<section id="assess-data-1" class="slide level2">
<h2>Assess data</h2>
<p>~ Sanity check (!= visualization)</p>
<ul>
<li>Does everything make sense?</li>
<li>Is there anything missing?
<ul>
<li>Trial-by-trial visual check</li>
</ul></li>
</ul>
</section>
<section id="assess-data-2" class="slide level2">
<h2>Assess data</h2>
<p>Unusable participants</p>
<ul>
<li>Rare?</li>
<li>File corrupted?
<ul>
<li>Lab log</li>
<li>Example: A participant blinked too much during the experiment, too many unusable trials.</li>
<li>If large data loss, it may be easier to exclude the participant.</li>
</ul></li>
</ul>
</section>
<section id="assess-data-3" class="slide level2">
<h2>Assess data</h2>
<p>Unusable trials</p>
<ul>
<li>More common</li>
<li>Poor calibration (cf.&nbsp;drift correction)
<ul>
<li>Umbrella term: “track loss” (could mean anything: participant sneezed, distraction, too fast)</li>
</ul></li>
<li>Field-specific</li>
<li>Lab log!</li>
</ul>
</section>
<section id="assess-data-4" class="slide level2">
<h2>Assess data</h2>
<p>Common sense + lab log</p>
<ul>
<li>Remove participants (lab log? other exclusion criteria?)</li>
<li>Items to discard
<ul>
<li>Misunderstood sentences?</li>
<li>Unforeseen confounds?</li>
</ul></li>
</ul>

<img data-src="images/session_4/ex_loglab.JPG" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="cleaning" class="slide level2">
<h2>Cleaning</h2>
<ul>
<li>Keep a log of all changes (trial &amp; participant exclusion)
<ul>
<li>Especially if you did not save the viewing session.</li>
<li>Write up e.g., % trials removed.</li>
</ul></li>
</ul>
<p>Try to think ahead (pre-registration!) and report all your steps and motivation.</p>

<img data-src="images/session_4/reading_cleaning_logbook.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="exporting" class="slide level2">
<h2>Exporting</h2>
<p>Prepare data to be analysed elsewhere (e.g., R, SPSS).</p>
<p>Data Viewer has different reports.</p>

<img data-src="images/session_4/9.png" class="r-stretch"></section></section>
<section>
<section id="data-viewer-2" class="title-slide slide level1 center">
<h1>Data Viewer</h1>

</section>
<section id="interface" class="slide level2">
<h2>Interface</h2>

<img data-src="images/session_4/viewing_dv1.JPG" class="r-stretch"></section>
<section id="interface-1" class="slide level2">
<h2>Interface</h2>

<img data-src="images/session_4/viewing_dv2.jpg" class="r-stretch"></section>
<section id="interface-2" class="slide level2">
<h2>Interface</h2>
<p>Time window of analysis</p>

<img data-src="images/session_4/25.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="interface-3" class="slide level2">
<h2>Interface</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<p>Make sure your AIs are displayed when setting TW.</p>
<ul>
<li>Preferences &gt; Data Filters &gt; Show AIs</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/session_4/29.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="importing-data" class="slide level2">
<h2>Importing data</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<p>.edf (Eyelink Data File) –&gt; .evs (Eyelink Viewing Session)</p>
<ul>
<li>/results in experiment folder (project directory)</li>
<li>One .edf per participant</li>
<li>Always copy and save the entire experiment folder with subfolders (not just the results)!</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/session_4/33.png"></p>
<p><img data-src="images/session_4/32.png"></p>
</div>
</div>
</section>
<section id="importing-data-1" class="slide level2">
<h2>Importing data</h2>
<p><strong>Tip</strong> : After importing, save the session (e.g.&nbsp;“data-uncleaned”) and then save it again in a separate copy where you’ll perform cleaning.</p>
<p>Note: <strong>You can’t go back with DataViewer</strong></p>
<ul>
<li>Save the viewing session regularly.</li>
</ul>

<img data-src="images/session_4/31.png" class="quarto-figure quarto-figure-center r-stretch"></section></section>
<section>
<section id="visual-world-paradigm-pipeline" class="title-slide slide level1 center">
<h1>Visual World Paradigm pipeline</h1>

</section>
<section id="check-data" class="slide level2">
<h2>Check data</h2>
<p>Fixations etc. across the screen (both in defined AIs and elsewhere).</p>
<ul>
<li>What do we look for?
<ul>
<li>~ Subjective decisions, e.g., not looking ~ not processing speech</li>
<li>Individual differences, e.g., different strategies (L1 v L2)</li>
</ul></li>
<li>Inspect trials with unusual behaviour for that participant (e.g., fewer fixations than average)</li>
<li>Check AIs and triggers
<ul>
<li>Did we code the AIs name?</li>
<li>Did we send triggers?</li>
</ul></li>
</ul>
</section>
<section id="automatized-cleaning" class="slide level2">
<h2>Automatized cleaning</h2>
<p>What are we thinking of?</p>
<ul>
<li>Track loss: When there is no data of eye recorded (e.g., blinks, participant moves, low validity of the sample)
<ul>
<li>In DV, marked as blinks -&gt; no direct report.</li>
</ul></li>
</ul>
</section>
<section id="automatized-cleaning-1" class="slide level2">
<h2>Automatized cleaning</h2>
<p>Track loss.</p>
<ul>
<li>Trial report: AVERAGE_BLINK_DURATION, BLINK_DURATION, IP_DURATION</li>
<li>Proportion of track loss computed as: (AVERAGE_BLINK_DURATION * BLINK_COUNT) / IP_DURATION
<ul>
<li>But this will also include blinks! So not ideal.</li>
</ul></li>
<li>Not common to encounter this step in reports.
<ul>
<li>Kids v adults</li>
</ul></li>
</ul>
</section>
<section id="automatized-cleaning-2" class="slide level2">
<h2>Automatized cleaning</h2>
<p>What are we thinking of?</p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>(Short and too long) fixations and blinks.
<ul>
<li>Merge fixations (~inspection)</li>
<li>Add blinks and fixations to the previous one.
<ul>
<li>A blink can interrupt a fixation and make it look like two.</li>
</ul></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/session_4/dv_filter.JPG" height="500"></p>
</div>
</div>
</section>
<section id="automatized-cleaning-3" class="slide level2">
<h2>Automatized cleaning</h2>
<p>Automatized cleaning done together with exporting data.</p>
<ul>
<li>Only samples on IAs, or also including on-screen but not on IAs?
<ul>
<li>Trade-off.</li>
<li>Affects how <em>proportions</em> are calculated.</li>
<li>But counts are still there.</li>
</ul></li>
</ul>
<p>Familiarity with previous literature is <strong>key</strong>.</p>
</section>
<section id="automatized-cleaning-4" class="slide level2">
<h2>Automatized cleaning</h2>
<p>What does each mean?</p>
<ul>
<li>Across All Samples: Number of samples in each IA/Total number of samples per bin</li>
<li>Across All On-Screen Samples (both defined and undefined): Number of samples in each IA/sum of samples where fixations laid on IAs and Null interest area.</li>
<li>Across All Samples Assigned to Predefined Interest Areas Only: Number of samples in each IA/sum of samples where fixations laid on IAs.</li>
</ul>
</section>
<section id="automatized-cleaning-5" class="slide level2">
<h2>Automatized cleaning</h2>
<p>What does this really mean?</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>Assuming that we have 200 samples in a bin:</p>
<ul>
<li><p>But 15 are blinks, 30 off-screen events, and 5 are data excluded.</p></li>
<li><p>There are 50 samples in uncoded areas of interest (i.e., IA 0)</p></li>
<li><p>There are 10 samples with data for IA 1.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li><p>In the All Samples report:</p>
<ul>
<li>The proportion of samples related to IA 1 is 5% (10/200)</li>
</ul></li>
<li><p>In the All On-Screen Samples:</p>
<ul>
<li>The proportion of samples related to IA 1 is 6.7% (10/(200 - 30 - 15 - 5))</li>
</ul></li>
<li><p>In All Interest Area Samples:</p>
<ul>
<li>The proportion of samples related to IA 1 is 10% (10/(200 - 30 - 15 - 5 - 50))</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="automatized-cleaning-6" class="slide level2">
<h2>Automatized cleaning</h2>
<ul>
<li>All Interest Area Samples
<ul>
<li>IA_0 = track loss.</li>
<li>Trade-off.</li>
</ul></li>
<li>All On Screen
<ul>
<li>Overall increased attention.</li>
</ul></li>
</ul>
</section>
<section id="automatized-cleaning-7" class="slide level2">
<h2>Automatized cleaning</h2>
<p>What do we count as samples for analysis?</p>
<ul>
<li>All Samples in Fixations and Saccades</li>
<li>Exclude Samples during Saccades</li>
<li>Exclude Samples during Saccades and Exclude Bins that Contain Non-Fixation Samples</li>
</ul>
<p>No straight-forward answer. Things to consider:</p>
<ul>
<li>Fixations and Saccades:</li>
<li>Only fixations: Proportions more ‘true’ to fixation behaviour <strong>but</strong> also less ‘true’ to actual behaviour.</li>
<li>Only bins with fixations: Loss of data.</li>
</ul>
</section>
<section id="example-data-pre-processing" class="slide level2">
<h2>Example data pre-processing</h2>
<p>VWP</p>

<img data-src="images/session_4/knoerfele1.JPG" class="r-stretch quarto-figure-center"><p class="caption">Knoeferle &amp; Crocker, 2006</p></section>
<section id="example-data-pre-processing-1" class="slide level2">
<h2>Example data pre-processing</h2>
<p>VWP</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/session_4/basque.JPG" height="400"></p>
<figcaption>Arantzeta et al., 2017</figcaption>
</figure>
</div>
</section>
<section id="example-data-pre-processing-2" class="slide level2">
<h2>Example data pre-processing</h2>
<p>VWP</p>

<img data-src="images/session_4/names.JPG" class="r-stretch quarto-figure-center"><p class="caption">Apfelbaum et al., 2021</p></section>
<section id="interest-period-in-vwp" class="slide level2">
<h2>Interest Period in VWP</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><br> <br></p>
<p>Triggers, e.g., target_onset - target_offset</p>
<ul>
<li>Strict matching unchecked
<ul>
<li>What if there is a time-out?</li>
</ul></li>
<li>Several TWs</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/session_4/27.png"></p>
</div>
</div>
</section>
<section id="interest-period-in-vwp-1" class="slide level2">
<h2>Interest Period in VWP</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<p>Make sure your AIs are displayed when setting TW.</p>
<ul>
<li>Preferences &gt; Data Filters &gt; Show AIs</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/session_4/29.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="exporting-visual-world-paradigm" class="slide level2">
<h2>Exporting: Visual World Paradigm</h2>
<p>Recap: Fixations <em>over a scene at a particular time</em>.</p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Time window, defined @ triggers.
<ul>
<li>Trigger timestamp: zero, beginning of the timeline.</li>
<li>Determines which gaze points are counted as part of the same fixation by DV algorithms.</li>
</ul></li>
<li>Keep AIs in the report.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/session_4/10.png"></p>
</div>
</div>
</section>
<section id="exporting-visual-world-paradigm-1" class="slide level2">
<h2>Exporting: Visual World Paradigm</h2>
<p>Common reports: Time binning and Interest Area</p>
<p>Time course (binning) analysis report</p>
<ul>
<li>How much do we want to discretize time?
<ul>
<li>Time bins, e.g., every 20 or 50 ms.</li>
<li>Smaller bins: finer analysis, detect nuanced differences.</li>
<li>Depends on our sample rate.</li>
</ul></li>
</ul>

<img data-src="images/session_4/11.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="exporting-visual-world-paradigm-2" class="slide level2">
<h2>Exporting: Visual World Paradigm</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Choose variables (or just export all)</li>
<li>Define the size of your bin</li>
<li>On-screen events only (unless you want that information)</li>
<li>Separate report unchecked</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/session_4/12.png"></p>
</div>
</div>
<aside class="notes">
<p>suggestion re order of slides: wouldn’t the all-samples info come more naturally after this part?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="output-visual-world-paradigm" class="slide level2">
<h2>Output: Visual World Paradigm</h2>
<p>Time binning report</p>
<p>Participant ID (RECORDING_SESSION_LABEL), trial number (TRIAL_LABEL/INDEX) (added automatically by Data Viewer) +</p>
<p>BIN_INDEX: Which bin it is. This will help us figure out time (by taking the bin number and multiplying it by the size of your time bin, but you can also use ‘BIN_START_TIME’).</p>

<img data-src="images/session_4/7.png" class="r-stretch"></section>
<section id="output-visual-world-paradigm-1" class="slide level2">
<h2>Output: Visual World Paradigm</h2>
<p>Time binning report</p>
<p>Non-eye movement related variables that we need, i.e., most (except participant ID &amp; trial number) variables that you coded yourself (can be found at the end of the list in blue).</p>

<img data-src="images/session_4/6.png" class="r-stretch"></section>
<section id="output-visual-world-paradigm-2" class="slide level2">
<h2>Output: Visual World Paradigm</h2>
<p>Time binning report</p>
<p>Variables of interest when looking at fixations: you have duplicated columns per eye. Since you’ll most likely do monocular tracking, you’ll only need one set.</p>
<p>Information duplicated per Interest Area. If you have two visuals, then two; three visuals, then three, and so on (<em>IA_x</em> &amp; Information duplicated per eye). Even if it was monocular recording, it preserves columns for each eye.</p>
<ul>
<li>IA_1_ID, IA_2_ID and so on: The label of the item that was presented in that region (target/distractor).</li>
<li>BIN_SAMPLE_COUNT: The number of samples per bin.</li>
<li>RIGHT_BLINK_SAMPLE_COUNT: Number of samples in a given bin that were a blink.</li>
</ul>
</section>
<section id="output-visual-world-paradigm-3" class="slide level2">
<h2>Output: Visual World Paradigm</h2>
<p>Time binning report</p>
<ul>
<li>RIGHT_OFF_SCREEN_SAMPLE_COUNT: Number of samples in a given bin that fall outside of the display.</li>
<li>RIGHT_IA_1_SAMPLE_COUNT, RIGHT_IA_2_SAMPLE_COUNT and so on<sup>1</sup>: The number of fixations that fell in that area per bin (out of the number of samples per bin, i.e., if each bin has 10 samples, then it’s out of ten).</li>
<li>RIGHT_IA_1_SAMPLE_COUNT_%, RIGHT_IA_2_SAMPLE_COUNT_% and so on: The proportion of fixations that fell in that area (i.e., a transformation of count).</li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Or AVERAGE_, because we have done binocular reading, the average equals the count on our eye recorded.</p></li></ol></aside></section>
<section id="output-visual-world-paradigm-4" class="slide level2">
<h2>Output: Visual World Paradigm</h2>
<p>But what is ‘IA_0’?</p>
<ul>
<li>Participants not only look at the images, they also look at areas where we don’t have IAs defined (e.g., the center of the screen).
<ul>
<li>Interesting when exploring some RQs (i.e., do people prefer to not fixate on anything?)</li>
<li>However! You don’t know where exactly they were looking at (only that it was not defined!)</li>
</ul></li>
</ul>
<aside class="notes">
<p>suggestion re order of slides: doesn’t this part belong somewhere earlier? you already mention IA_0 when discussing the all-samples thing</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="output-visual-world-paradigm-5" class="slide level2">
<h2>Output: Visual World Paradigm</h2>
<p>.txt → import in Excel and save as .xlsx or .csv</p>

<img data-src="images/session_4/5.png" class="r-stretch"></section></section>
<section>
<section id="reading-pipeline" class="title-slide slide level1 center">
<h1>Reading pipeline</h1>

</section>
<section id="check-data-reading" class="slide level2">
<h2>Check data: Reading</h2>
<p>More time-consuming than VWP but more conventional</p>
<ul>
<li>Drift (vertical, horizontal)</li>
<li>Blinks</li>
<li>Unusual behaviours</li>
</ul>
</section>
<section id="check-data-reading-1" class="slide level2">
<h2>Check data: Reading</h2>
<p>Trial-by-trial check</p>
<p>Horizontal drift</p>
<ul>
<li>Safest -&gt; exclude such trials.</li>
<li>Especially when you are unsure which AIs certain fixations belong to.</li>
<li><strong>Never</strong> move fixations to the left or right.</li>
</ul>

<img data-src="images/session_4/26.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="check-data-reading-2" class="slide level2">
<h2>Check data: Reading</h2>
<p>Trial-by-trial check</p>
<p>Vertical drift</p>
<ul>
<li>Correct (move up/down) fixations that fall outside AIs
<ul>
<li>Less work if top and bottom margins were big enough.</li>
</ul></li>
<li>To move certain fixations up/down: Windows Alt+<em>arrow</em>, Mac Option+<em>arrow</em></li>
</ul>

<img data-src="images/session_4/20.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="check-data-reading-3" class="slide level2">
<h2>Check data: Reading</h2>
<p>Trial-by-trial check</p>
<p>Blinks in critical AI</p>
<ul>
<li>Exclude trial? Optional
<ul>
<li>Individual participants’ behaviour: Exclude participant?</li>
<li>Happens randomly across conditions, and excluding those trials leads to overall large data loss: Ignore?</li>
</ul></li>
</ul>

<img data-src="images/session_4/23.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="check-data-reading-4" class="slide level2">
<h2>Check data: Reading</h2>
<p>Trial-by-trial check</p>
<p>Other</p>
<ul>
<li>If participants were instructed to look at the corner when finished reading but went back to re-read: Remove those extra fixations</li>
</ul>

<img data-src="images/session_4/22.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="check-data-reading-5" class="slide level2">
<h2>Check data: Reading</h2>
<p>Trial-by-trial check</p>
<p>Other</p>
<ul>
<li>Started reading from the middle (critical AI): Exclude trial</li>
</ul>

<img data-src="images/session_4/21.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="check-data-reading-6" class="slide level2">
<h2>Check data: Reading</h2>
<p>Trial-by-trial check</p>
<p>Keep a detailed <strong>log</strong> of all changes!</p>

<img data-src="images/session_4/reading_cleaning_logbook.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="automatized-cleaning-8" class="slide level2">
<h2>Automatized cleaning</h2>
<p>What are we thinking of?</p>
<ul>
<li>Extremely short and long fixations (outliers)</li>
<li>Fixations outside of AIs</li>
</ul>
<p>Familiarity with previous literature is <strong>key</strong>.</p>
<p>Balanced loss across conditions.</p>
</section>
<section id="automatized-cleaning-reading" class="slide level2">
<h2>Automatized cleaning: Reading</h2>
<p>Different thresholds –&gt; report <em>exactly</em> what you did.</p>
<ul>
<li>Short outliers
<ul>
<li>Merge short nearby fixations and remove those that couldn’t be merged.</li>
<li>Or just remove all fixations that are, e.g.&nbsp;&lt; 100 ms (Sereno &amp; Rayner, 2003).</li>
<li>Merging might inflate fixation measures, nor merging might inflate skipping if short critical AI.</li>
</ul></li>
<li>Long outliers
<ul>
<li>Remove all fixations that are, e.g., &gt; 800 ms.</li>
</ul></li>
<li>Delete fixations outside AIs</li>
</ul>
</section>
<section id="automatized-cleaning-reading-1" class="slide level2">
<h2>Automatized cleaning: Reading</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><br> <br> <br></p>
<p>In-built 4-stage fixation cleaning procedure.</p>
<p>Right-click on the whole folder.</p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/session_4/24.png"> <img data-src="images/session_4/16.png"></p>
</div>
</div>
</section>
<section id="automatized-cleaning-reading-2" class="slide level2">
<h2>Automatized cleaning: Reading</h2>
<p>These are settings from D. Drieghe’s lab (non-standard)!</p>

<img data-src="images/session_4/16.png" class="quarto-figure quarto-figure-center r-stretch"><p><sup>Stage 1: merge fix shorter than 80 ms and less than 0.5 degrees away from each other. Stage 2: merge remaining fix shorter than 40 ms and less than 1.25 degrees away from each other. Finally (Stage 4), remove all remaining fixations that are shorter than 80 ms or longer than 800 ms. Also, remove all fixations that fall outside the IAs.</sup></p>
</section>
<section id="example-pre-processing-in-reading" class="slide level2">
<h2>Example pre-processing in reading</h2>
<p>Howard et al., 2017</p>
<ul>
<li>What technical information do we expect the authors to list and where?</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/session_4/17.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/session_4/15.png"></p>
</div>
</div>
</section>
<section id="example-pre-processing-in-reading-1" class="slide level2">
<h2>Example pre-processing in reading</h2>
<p>Puebla &amp; Felser, 2022</p>
<ul>
<li>What technical information do we expect the authors to list and where?</li>
</ul>

<img data-src="images/session_4/14.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="example-pre-processing-in-reading-2" class="slide level2">
<h2>Example pre-processing in reading</h2>
<p>Holmqvist et al.&nbsp;(2022). Eye tracking: Empirical foundations for a minimal reporting guideline.<sup>1</sup></p>
<p>Jakobi et al.&nbsp;(2024). Reporting eye-tracking data quality: Towards a new standard.</p>
<aside><ol class="aside-footnotes"><li id="fn2"><p>This paper was retracted due to some legal issues.</p></li></ol></aside></section>
<section id="exporting-reading" class="slide level2">
<h2>Exporting: Reading</h2>
<p>Recap: Fixations and saccades <strong>in several AIs</strong> (<em>n-1, n, n+1</em>)</p>
<ul>
<li>Interest Area report</li>
</ul>

<img data-src="images/session_4/4.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="exporting-reading-1" class="slide level2">
<h2>Exporting: Reading</h2>
<p>Interest Area report</p>
<ul>
<li>Choose variables (or just export all)</li>
</ul>

<img data-src="images/session_4/3.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="exporting-reading-2" class="slide level2">
<h2>Exporting: Reading</h2>
<p>Interest Area report</p>
<p>For analysis, we surely need participant ID (Session_Name_), condition, item ID, and interest area ID (IA_ID). It could also be helpful to include IA_LABEL (text presented in the IA).</p>
<p>Let’s choose some common measures:</p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Skipping</li>
<li>First fixation duration</li>
<li>Gaze duration</li>
<li>Regressions-in</li>
<li>First-pass regressions-out</li>
<li>Regression path duration</li>
<li>Total reading time</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/session_4/2.png"></p>
</div>
</div>
</section>
<section id="output-reading" class="slide level2">
<h2>Output: Reading</h2>
<p>Interest Area report</p>
<p>.txt → import in Excel and save as .xlsx or .csv</p>

<img data-src="images/session_4/1.png" class="quarto-figure quarto-figure-center r-stretch"><ul>
<li>Here all IAs are listed; for analysis, we look at each IA separately!</li>
</ul>
</section>
<section id="regions-skipped-on-first-pass" class="slide level2">
<h2>Regions skipped on first pass</h2>
<p>After we exported our Interest Area report and before starting the analysis:</p>
<ul>
<li><p>In some trials, the region could have been skipped on first pass (IA_SKIP = 1).</p></li>
<li><p>This affects subsequent reading measures (first fixation? re-reading? etc.)</p></li>
<li><p>Therefore, we can report and analyze the skipping rate if we want;</p></li>
<li><p>For other measures, if IA_SKIP = 1, we will change the values to <em>NA</em> (label them as <em>missing values</em>) before we analyze them.</p></li>
<li><p>First-pass measures for sure: e.g., first fixation duration, gaze duration, first-pass regressions-out, regression-path duration.</p></li>
</ul>
</section>
<section id="regions-skipped-completely" class="slide level2">
<h2>Regions skipped completely</h2>
<p>If IA_SKIP = 1, but we don’t want to just assign <em>NA</em> to all measures indiscriminately:</p>
<ul>
<li><p>Later measures (e.g., regressions-in, total reading time): we can assign <em>NA</em> if the region was skipped completely (i.e., if IA_DWELL_TIME = 0).</p>
<ul>
<li><p>For regressions-in it’s already the default;</p></li>
<li><p>For total reading time the default is 0. Why would we want <em>NA</em> instead of 0? It might be better for statistical analysis (certain models don’t deal well with zero values).</p></li>
</ul></li>
</ul>
</section>
<section id="take-home-messages" class="slide level2">
<h2>Take-home messages</h2>
<ul>
<li>Coding your experiment efficiently (e.g., meaningful variable names) saves you some time during pre-processing and data wrangling.</li>
<li>Eye-tracking data consists of timestamped eye movement events and messages.</li>
<li>Software like Data Viewer make it easy to export what we are interested in.</li>
<li>VWP: important to understand how many samples there are per bin and how many seconds a bin entails.</li>
<li>Reading: important to decide on cleaning criteria beforehand and report them. Remember that pre-processing (trial-by-trial check) might take time.</li>
</ul>
</section></section>
<section>
<section id="practice-time" class="title-slide slide level1 center">
<h1>Practice time</h1>

</section>
<section id="your-turn" class="slide level2">
<h2>Your turn</h2>
<p>Process the data you acquired in the lab!</p>
</section></section>
<section>
<section id="wrap-up" class="title-slide slide level1 center">
<h1>Wrap-up</h1>

</section>
<section id="plan-for-tomorrow" class="slide level2">
<h2>Plan for tomorrow</h2>
<ul>
<li>Data visualization</li>
<li>Data analysis</li>
</ul>
</section>
<section id="homework" class="slide level2">
<h2>Homework</h2>
<ul>
<li>Have the file ready for analysis</li>
<li>Download and install R (if you haven’t yet)</li>
<li>Think how you’ll visualize your data</li>
</ul>
</section>
<section id="references" class="slide level2 smaller">
<h2>References</h2>
<p>Apfelbaum, K. S., Klein-Packard, J., &amp; McMurray, B. (2021). The pictures who shall not be named: Empirical support for benefits of preview in the Visual World Paradigm. <em>Journal of Memory and Language, 121</em>, 104–279. https://doi.org/10.1016/j.jml.2021.104279</p>
<p>Arantzeta, M., Bastiaanse, R., Burchert, F., Wieling, M., Martinez-Zabaleta, M., &amp; Laka, I. (2017). Eye-tracking the effect of word order in sentence comprehension in aphasia: Evidence from Basque, a free word order ergative language. <em>Language, Cognition and Neuroscience, 32</em>(10), 1320–1343. https://doi.org/10.1080/23273798.2017.1344715</p>
<p>Holmqvist, K., Örbom, S. L., Hooge, I. T. C., Niehorster, D. C., Alexander, R. G., Andersson, R., Benjamins, J. S., Blignaut, P., Brouwer, A.-M., Chuang, L. L., Dalrymple, K. A., Drieghe, D., Dunn, M. J., Ettinger, U., Fiedler, S., Foulsham, T., van der Geest, J. N., Hansen, D. W., Hutton, S. B., … Hessels, R. S. (2023). Eye tracking: Empirical foundations for a minimal reporting guideline. <em>Behavior Research Methods, 55</em>(1), 364–416. https://doi.org/10.3758/s13428-021-01762-8</p>
</section>
<section id="references-1" class="slide level2 smaller">
<h2>References</h2>
<p>Howard, P. L., Liversedge, S. P., &amp; Benson, V. (2017). Processing of co-reference in autism spectrum disorder. <em>Autism Research, 10</em>(12), 1968–1980. https://doi.org/10.1002/aur.1845</p>
<p>Jakobi, D. N., Krakowczyk, D. G., &amp; Jäger, L. A. (2024). Reporting Eye-Tracking Data Quality: Towards a New Standard. <em>ETRA ’24: Proceedings of the 2024 Symposium on Eye Tracking Research and Applications.</em> https://doi.org/10.1145/3649902.3655658</p>
<p>Knoeferle, P., &amp; Crocker, M. W. (2006). The Coordinated Interplay of Scene, Utterance, and World Knowledge: Evidence From Eye Tracking. <em>Cognitive Science, 30</em>(3), 481–529. https://doi.org/10.1207/s15516709cog0000_65</p>
<p>Puebla, C., &amp; Felser, C. (2022). Discourse Prominence and Antecedent Mis-Retrieval during Native and Non-Native Pronoun Resolution. Discours. Revue de Linguistique, Psycholinguistique et Informatique. <em>A Journal of Linguistics, Psycholinguistics and Computational Linguistics, 29</em>, Article 29. https://doi.org/10.4000/discours.11720</p>
<p>Sereno, S. C., &amp; Rayner, K. (2003). Measuring word recognition in reading: Eye movements and event-related potentials. <em>Trends in Cognitive Sciences, 7</em>(11), 489–493. https://doi.org/10.1016/j.tics.2003.09.010</p>
<div class="quarto-auto-generated-content">
<p><img src="images/logo_mils.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>Data pre-processing</p>
</div>
</div>
</section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="session_4_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="session_4_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="session_4_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="session_4_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="session_4_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="session_4_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="session_4_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="session_4_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="session_4_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="session_4_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>